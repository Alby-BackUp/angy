@page "/product/edit/{ProductId:guid}"
@page "/product/create"

@inherits ProductDetailComponent


<Loader Result="@IsValid">
    <EditForm EditContext="@EditContext" OnSubmit="HandleSubmit">

        <DataAnnotationsValidator />
    
        <div class="form-group">
            <label for="name">Nome</label>
            <InputText id="name" class="form-control" aria-describedby="nameHelp" placeholder="Inserire il nome del prodotto" @bind-Value="@Product.Name"/>
            <ValidationMessage For="@(() => Product.Name)" />  
    
        </div>

        <div>
            <label for="description">Categoria</label>
            <InputSelectGuid id="category" class="form-control" aria-describedby="categoryHelp" placeholder="Selezionare la categoria del prodotto" @bind-Value="@Product.CategoryId">
    
                @foreach (var category in Categories)
                {
                    <option value="@category.Id">@category.Name</option>
                }
    
            </InputSelectGuid>
            <ValidationMessage For="@(() => Product.CategoryId)" />
    
        </div>
    
        <button type="submit" class="btn btn-outline-success w-25 float-right mt-2" disabled="@(!EditContext.IsModified())">Salva</button>

    </EditForm>
</Loader>